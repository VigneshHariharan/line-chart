var $=Object.defineProperty;var B=(o,e,t)=>e in o?$(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var x=(o,e,t)=>(B(o,typeof e!="symbol"?e+"":e,t),t),L=(o,e,t)=>{if(!e.has(o))throw TypeError("Cannot "+t)};var P=(o,e,t)=>(L(o,e,"read from private field"),t?t.call(o):e.get(o)),l=(o,e,t)=>{if(e.has(o))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(o):e.set(o,t)};var h=(o,e,t)=>(L(o,e,"access private method"),t);import{r as k}from"./index-76fb7be0.js";import"./_commonjsHelpers-de833af9.js";var N={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H=k,J=Symbol.for("react.element"),K=Symbol.for("react.fragment"),Q=Object.prototype.hasOwnProperty,Z=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tt={key:!0,ref:!0,__self:!0,__source:!0};function j(o,e,t){var i,s={},n=null,r=null;t!==void 0&&(n=""+t),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(r=e.ref);for(i in e)Q.call(e,i)&&!tt.hasOwnProperty(i)&&(s[i]=e[i]);if(o&&o.defaultProps)for(i in e=o.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:J,type:o,key:n,ref:r,props:s,_owner:Z.current}}_.Fragment=K;_.jsx=j;_.jsxs=j;N.exports=_;var et=N.exports;const it=et.jsx;const M=[{id:"japan",color:"hsl(248, 70%, 50%)",data:[{x:"plane",y:270},{x:"helicopter",y:49},{x:"boat",y:152},{x:"train",y:39},{x:"subway",y:103},{x:"bus",y:54},{x:"car",y:243},{x:"moto",y:7},{x:"bicycle",y:152},{x:"horse",y:85},{x:"skateboard",y:32},{x:"others",y:295}]},{id:"france",color:"hsl(247, 70%, 50%)",data:[{x:"plane",y:189},{x:"helicopter",y:101},{x:"boat",y:45},{x:"train",y:276},{x:"subway",y:216},{x:"bus",y:95},{x:"car",y:67},{x:"moto",y:152},{x:"bicycle",y:191},{x:"horse",y:265},{x:"skateboard",y:42},{x:"others",y:167}]},{id:"us",color:"hsl(138, 70%, 50%)",data:[{x:"plane",y:80},{x:"helicopter",y:299},{x:"boat",y:111},{x:"train",y:74},{x:"subway",y:188},{x:"bus",y:8},{x:"car",y:251},{x:"moto",y:61},{x:"bicycle",y:127},{x:"horse",y:49},{x:"skateboard",y:55},{x:"others",y:72}]},{id:"germany",color:"hsl(126, 70%, 50%)",data:[{x:"plane",y:287},{x:"helicopter",y:245},{x:"boat",y:229},{x:"train",y:52},{x:"subway",y:205},{x:"bus",y:7},{x:"car",y:155},{x:"moto",y:11},{x:"bicycle",y:59},{x:"horse",y:133},{x:"skateboard",y:187},{x:"others",y:213}]},{id:"norway",color:"hsl(185, 70%, 50%)",data:[{x:"plane",y:223},{x:"helicopter",y:6},{x:"boat",y:280},{x:"train",y:216},{x:"subway",y:196},{x:"bus",y:229},{x:"car",y:25},{x:"moto",y:117},{x:"bicycle",y:270},{x:"horse",y:115},{x:"skateboard",y:120},{x:"others",y:5}]}],q={labels:{x:"vehicles",y:"height"}};var p,O,u,D,f,m,T,C,V;class nt{constructor(){l(this,p);l(this,u);l(this,m);l(this,C);x(this,"xCoordinates",[]);x(this,"yCoordinates",[]);x(this,"xUnits",1);x(this,"yUnits",1);x(this,"lengthOfXUnits",1);x(this,"lengthOfYUnits",1);l(this,f,({area:e,index:t,minMax:i,point:s,space:n,unit:r})=>{if(typeof s=="string"){const d=t;return h(this,u,D).call(this,d*r+n)}const a=s-i.min,y=Math.round(a/i.max*100),c=e/100*y;return h(this,u,D).call(this,c)+n});this.xCoordinates=[],this.yCoordinates=[]}findMinMax(e){const t=this.xCoordinates,i=this.yCoordinates;for(let s of e)for(let n of s.data)t.includes(n.x)||t.push(n.x),i.includes(n.y)||i.push(n.y);return h(this,p,O).call(this,t),h(this,p,O).call(this,i),{x:{min:t[0],max:t[t.length-1]},y:{min:i[0],max:i[i.length-1]}}}findUnits(e,t,i,s){const n=h(this,m,T).call(this,e,i),r=h(this,m,T).call(this,t,s);return this.xUnits=n,this.yUnits=r,this.lengthOfXUnits=e.length,this.lengthOfYUnits=t.length,{xUnit:n,yUnit:r}}convertPointsToPx(e,{xDrawingArea:t,yDrawingArea:i,height:s,space:n},r){const{points:a,xPoints:y,yPoints:c}=h(this,C,V).call(this,e),d=this.findUnits(y,c,t,i);return a.map((S,I)=>{const z=P(this,f).call(this,{area:t,index:I,minMax:r.x,unit:d.xUnit,space:n,point:S[0]}),W=s-P(this,f).call(this,{area:i,point:S[1],minMax:r.y,index:I,unit:d.yUnit,space:n});return{xCoordinate:z,yCoordinate:W}})}}p=new WeakSet,O=function(e){return typeof e[0]=="number"?e.sort((t,i)=>t-i):e},u=new WeakSet,D=function(e){return Number(e.toFixed(2))},f=new WeakMap,m=new WeakSet,T=function(e,t){if(typeof e[0]=="string")return t/e.length;{h(this,p,O).call(this,e);const i=t/e.length;return Number(i.toFixed(2))}},C=new WeakSet,V=function(e){let t=[],i=[],s=[];for(let n of e)t.push([n.x,n.y]),i.push(n.x),s.push(n.y);return{points:t,xPoints:i,yPoints:s}};const g=50;var v,X,w,Y,U,G;class st extends nt{constructor(t,i,s,n){super();l(this,v);l(this,w);l(this,U);x(this,"chartData",M);x(this,"metaData",q);x(this,"context");x(this,"chartOptions",{height:0,space:g,width:0,xDrawingArea:0,yDrawingArea:0});this.chartData=i,this.metaData=s,this.context=t,this.chartOptions={height:0,space:g,width:0,xDrawingArea:0,yDrawingArea:0,...n}}setChartSizes(t){this.chartOptions={...this.chartOptions,...t}}initChart(){var s;if(!this.context)throw new Error("Canvas context is not provided");const t=((s=this==null?void 0:this.chartOptions)==null?void 0:s.space)||g,i={space:g,width:this.context.canvas.width,height:this.context.canvas.height,yDrawingArea:this.context.canvas.height-2*t,xDrawingArea:this.context.canvas.width-2*t};this.setChartSizes(i),h(this,w,Y).call(this,this.chartOptions)}}v=new WeakSet,X=function(t){let i=this.chartOptions.space,s=0;this.context.textAlign="center",this.context.strokeStyle="black";let n=1;for(typeof t.x.max=="number"&&(n=t.x.max/this.lengthOfXUnits);s<this.lengthOfXUnits;){this.context.beginPath(),this.context.moveTo(i,this.chartOptions.height-this.chartOptions.space),this.context.lineTo(i,this.chartOptions.height-this.chartOptions.space+15);const c=typeof this.xCoordinates[s]=="string"?this.xCoordinates[s]:String(((s+1)*n).toFixed(0));this.context.fillText(c,i,this.chartOptions.height-this.chartOptions.space+30),this.context.stroke(),this.context.closePath(),i+=this.xUnits,s+=1}let r=this.chartOptions.height-this.chartOptions.space,a=this.lengthOfYUnits-1,y=1;for(typeof t.y.max=="number"&&(y=t.y.max/this.lengthOfYUnits);a>-2;){this.context.beginPath(),this.context.moveTo(this.chartOptions.space,this.chartOptions.height-r),this.context.lineTo(this.chartOptions.space-15,this.chartOptions.height-r);const c=typeof this.yCoordinates[a]=="string"?this.yCoordinates[a]:String(((a+1)*y).toFixed(0));this.context.fillText(c,this.chartOptions.space-30,this.chartOptions.height-r),this.context.stroke(),this.context.closePath(),r-=this.yUnits,a-=1}},w=new WeakSet,Y=function({height:t,space:i,width:s}){this.context.beginPath(),this.context.moveTo(i,i),this.context.lineTo(i,t-i),this.context.lineTo(s-i,t-i),this.context.strokeStyle="black",this.context.stroke(),this.context.closePath();const n=this.findMinMax(this.chartData);for(let r of this.chartData){const a=this.convertPointsToPx(r.data,this.chartOptions,n);a.forEach(({xCoordinate:y,yCoordinate:c},d)=>{this.context.beginPath(),this.context.arc(y,c,3,Math.PI,3*Math.PI),this.context.stroke(),this.context.closePath()}),h(this,U,G).call(this,a,r.color)}h(this,v,X).call(this,n)},U=new WeakSet,G=function(t,i="black"){this.context.beginPath();let s=!1;for(let{xCoordinate:n,yCoordinate:r}of t)s?this.context.lineTo(n,r):(this.context.moveTo(n,r),s=!0);this.context.strokeStyle=i,this.context.lineWidth=2,this.context.stroke(),this.context.closePath()};const E=({id:o,height:e,width:t})=>{const i=k.useRef(null);return k.useEffect(()=>{if(!i.current)return;const n=i.current.getContext("2d");n&&new st(n,M,q,{}).initChart()},[i,t,e]),it("canvas",{id:o,ref:i,width:Number(t)||"300px",height:Number(e)||"300px"})};try{E.displayName="LineChart",E.__docgenInfo={description:"",displayName:"LineChart",props:{id:{defaultValue:null,description:"unique id for the element",name:"id",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"width of canvas in pixels",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"height of canvas in pixels",name:"height",required:!1,type:{name:"number"}}}}}catch{}const ct={title:"LineChart",component:E},b={args:{id:"line-3",width:600,height:600}};var F,R,A;b.parameters={...b.parameters,docs:{...(F=b.parameters)==null?void 0:F.docs,source:{originalSource:`{
  args: {
    id: 'line-3',
    width: 600,
    height: 600
  }
}`,...(A=(R=b.parameters)==null?void 0:R.docs)==null?void 0:A.source}}};const xt=["Default"];export{b as Default,xt as __namedExportsOrder,ct as default};
//# sourceMappingURL=Chart.stories-0c89764c.js.map
